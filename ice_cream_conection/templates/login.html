{%  load static %}

<!doctype HTML>
<html>

<head>
    <meta charset="UTF-8">
    <meta content="width=device-width,initial-scale=1" name="viewport">
    <link rel="stylesheet" href="{%  static 'css/bootstrap.css' %}">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.blue-deep_purple.min.css" />
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet">
    <link rel="stylesheet" href="{%  static 'css/style.css' %}">
    <link rel="stylesheet" href="{%  static 'css/material.min.css' %}">
    <link rel="stylesheet" href="{%  static 'css/getmdl-select.scss' %}">
    <link rel="stylesheet" href="{%  static 'css/mdl-jquery-modal-dialog.css' %}">
    <title>Ice Cream CONEction - Login/Signup</title>
</head>

<body>
<div class="container">
    <div class="center-block">
        <div class="col-lg-4 col-lg-offset-1 col-md-4 col-md-offset-1 col-sm-12 col-xs-12 no-padding"
             style="z-index:1">
            <!-- Slider -->

            <div class="mlt-carousel">
                <div id="myCarousel" class="carousel slide carousel-fade" data-ride="carousel">
                    <div class="carousel-inner" role="listbox">
                        <div class="item active">
                            {#                                <img class="img-responsive center-block" src="img/step1.png" alt="step1">#}
                            <div class="item-content">
                                <h3>Ice Cream CONEction</h3>
                                <p>Consectetur adipiscing elit</p>
                                <p>Phasellus orci dolor</p>
                                <p>dapibus suscipit quam</p>
                            </div>
                        </div>
                        <div class="item">
                            <div class="item-content">
                                <h3>Consumer</h3>
                                <p>Laoreet placerat justo congue vulputate</p>
                                <p>Diam felis dapibus nulla</p>
                                <p>Phasellus molestie</p>
                            </div>
                        </div>
                        <div class="item">
                            <div class="item-content">
                                <h3>Producer</h3>
                                <p>ultricies posuere leo</p>
                                <p>Phasellus orci dolor</p>
                                <p>dapibus suscipit quam</p>
                            </div>
                        </div>
                    </div>
                    <!-- Indicators -->
                    <ol class="carousel-indicators">
                        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                        <li data-target="#myCarousel" data-slide-to="1"></li>
                        <li data-target="#myCarousel" data-slide-to="2"></li>
                    </ol>
                </div>
                <!--mlt-carousel-->
            </div>
            <!-- Slider -->
        </div>

        <div class="col-lg-6 col-lg-offset-right-1 col-md-6 col-md-offset-right-1 col-sm-12 col-xs-12 no-padding">
            <div class="mlt-content">
                <ul class="nav nav-tabs">
                    <li class="active"><a href="#" data-toggle="tab">Login / Signup</a></li>
                    {{ invalid_role }}
                </ul>

                <br/><br/>
                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label getmdl-select">
                    <input type="text" value="" class="mdl-textfield__input" id="choose_role" readonly>
                    <input type="hidden" value="" name="choose_role">
                    <label for="choose_role" class="mdl-textfield__label">Choose a role</label>
                    <ul for="choose_role" class="mdl-menu mdl-menu--bottom-left mdl-js-menu">
                        <li class="mdl-menu__item" data-val="driver">I am an ice cream truck driver</li>
                        <li class="mdl-menu__item" data-val="customer">I want ice cream</li>
                    </ul>
                    <span id="choose_role_error">Please select a role</span>
                    <span id="invalid_role_error">User email and role do not match</span>
                </div>

                <br/><br/>
                <div id="terms_flag_div">
                    <label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="terms_flag">
                        <input type="checkbox" id="terms_flag" class="mdl-checkbox__input">
                        <span class="mdl-checkbox__label ">I have read and accept the
                            <a id="terms_flag_a_tag">Terms of Use</a> and <a id="privacy_flag_a_tag">Privacy Policy</a>
                        </span>
                    </label>
                </div>

                <br/>
                <div>
                    <span id="terms_flag_error">Please accept the terms of use</span>
                </div>

                <br/><br/><br/>
                <div class="tab-content">
                    <div class="tab-pane fade in active" id="register">
                        <a href="{% url 'social:begin' 'google-oauth2' %}?next=/" id="google_login">
                            <img id="signInButton" src="{%  static 'images/btn_google_signin_dark_normal_web.png' %}">
                        </a>
                    </div>
                </div>
            </div>
            <!--Login-->
        </div>
        <!--center-block-->
    </div>
    <!--container-->
</div>

<script src="{%  static 'js/jquery.min.js' %}"></script>
<script src="{%  static 'js/bootstrap.min.js' %}"></script>
<script src="{%  static 'js/material.min.js' %}"></script>
<script src="{%  static 'js/getmdl-select.js' %}"></script>
<script src="{%  static 'js/mdl-jquery-modal-dialog.js' %}"></script>
<script src="{%  static 'js/cookie.js' %}"></script>
<script src="{%  static 'js/login-validate.js' %}"></script>


<script>
    //Google analytics.
    (function(i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function() {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-79865537-1', 'auto');
    ga('send', 'pageview');
</script>

<script>
    $("#choose_role_error").hide();
    $("#choose_role_error").hide();
    $("#terms_flag_error").hide();
    $("#invalid_role_error").hide();
    if (Cookies.get("icc_invalid_role") != null) {
        $("#invalid_role_error").show();
        Cookies.remove("icc_invalid_role");
    }
</script>

<script>
    var terms_text = '*******This is a fictitious Terms and Conditions only applies to CSE 682: Software Engineering*******' +
        '<br/><br/><b>Terms of Service</b>' +
        '<br/>This web page represents a legal document that serves as our Terms of Service and it governs the legal terms of our website, https://ice-cream-conection.herokuapp.com/, sub-domains, and any associated web-based and mobile applications (collectively, "Website"), as owned and operated by IceCreamConnectionCo.' +
        '<br/><br/>By accessing this web site, you are agreeing to be contained by these Website Terms and Conditions of Use, all regulations and laws, with agreement that you (the user) are responsible for full compliance with any valid local laws. If violation of any of these terms, you (the user) are automatically prohibited from use or access of this site. The application and information within this Website are protected by applicable copyright and trademark law.' +
        '<br/><br/>The last update to our Terms of Service was posted on 3 Dec 2018.' +
        '<br/><br/><b>Definitions</b>' +
        '<br/>The terms "us" or "we" or "our" refers to IceCreamConnectionCo., the creator/owner of the Website.\n' +
        'A "Visitor" is someone who peruses our Website, however has not subscribed as an application Member.\n' +
        'A "Member" is a person(s) who has registered/subscribed for the use of this website’s services.\n' +
        'Our "Service" is the combined functionality and features as offered through the website to its members.\n' +
        'A "User" is specified as either a Visitor or a Member.\n' +
        'All text, information, graphics, audio, video, and data offered through the website are collectively known as the "Content".\n' +
        '<br/><br/><b>Use License</b>' +
        '<br/>Permission is allowed to provisionally download a single copy of the application (information, software, and documentation within) on IceCreamConnectionCo.’s website for personal, non-commercial temporary viewing only. This is the permission of a temporary license, not an assignment of title, and under said license you may not:\n' +
        '<br/>•\tModify or copy the materials;\n' +
        '<br/>•\tUse the materials for any commercial purpose, or for any public display (commercial or non-commercial);\n' +
        '<br/>•\tAttempt to decompile or reverse engineer any software contained on IceCreamConnectionCo.’s web site;\n' +
        '<br/>•\tRemove any copyright or other proprietary notations from the materials; or\n' +
        '<br/>•\tTransfer the materials to another person or “mirror” the materials on any other server.\n' +
        '<br/><br/>Violations of these terms will automatically call for license termination and all restrictions may be terminated by IceCreamConnectionCo. whenever deemed fit. Upon terminating viewing of these materials or upon the termination of this license, you (the user) must end, delete, or destroy any downloaded materials taken directly from the web application (electronic or printed) format.' +
        '<br/><br/><b>User Discussion Lists and Forums</b>' +
        '<br/>The Operators may, but are not obligated to, monitor or review any areas on the website where users transmit or post communications or communicate solely with each other, including but not limited to user forums and email lists, and the content of any such communications. The Operators, however, have no liability related to the content of any such communications, whether or not arising under the laws of copyright, libel, privacy, obscenity, or otherwise. The Operators may edit or remove content on the website at their discretion at any time.' +
        '<br/><br/><b>Indemnification</b>' +
        '<br/>Users agree to defend, indemnify and hold harmless the Operators, agents, vendors or suppliers from and against any and all claims, damages, costs and expenses, including reasonable attorneys\' fees, arising from or related to your use or misuse of the website, including, without limitation, violation of these Terms and Conditions, the infringement by user, or any other subscriber or user of your account, of any intellectual property right or other right of any person or entity.' +
        '<br/><br/><b>Legal Compliance</b>' +
        '<br/>Users agree to all applicable domestic and international laws, statutes, ordinances, and regulations regarding use of the website. IceCreamConnectionCo. reserves the right to investigate complaints or reported violations of its Legal Terms and to take action against the user it deems appropriate, including: \n' +
        '<br/>•\tCanceling your Member account;\n' +
        '<br/>•\tReporting any suspected unlawful activity to law enforcement officials, regulators, or other third parties;\n' +
        '<br/>•\tDisclosing any and all information necessary or appropriate to such persons or entities relating to user profile, email addresses, usage history, posted materials, IP addresses and traffic information, as allowed under the company’s Privacy Policy.\n' +
        '<br/><br/><b>Intellectual Property</b>' +
        '<br/>The website may contain service marks, trademarks along with affiliates and other companies. This can be in the form of words, graphics, and logos. Use of the Website does not constitute any license, allowance, or right for you to use such trademarks. Contact via written permission of the corresponding trademark to the owner must occur before consideration of use of the above materials can occur. Protections of this website fall under international copyright laws. Ownership rights are not granted to you under any circumstances by using this website.' +
        '<br/><br/><b>Links to Other Materials</b>' +
        '<br/>The website may contain links to sites owned or operated by independent third parties. These links are provided for convenience and reference only. The company does not control such sites and, therefore, are not responsible for any content posted on these sites. The fact that the company offers such links should not be construed in any way as an endorsement, authorization, or sponsorship of that site, its content or the companies or products referenced therein, and the company reserves the right to note its lack of affiliation, sponsorship, or endorsement on the website. If users decide to access any of the third-party sites linked to by the website, users do this entirely at their own risk. Because some sites employ automated search results or otherwise link you to sites containing information that may be deemed inappropriate or offensive, the company cannot be held responsible for the accuracy, copyright compliance, legality, or decency of material contained in third party sites, and the user hereby irrevocably waive any claim against the company with respect to such sites.' +
        '<br/><br/><b>Disclaimer</b>' +
        '<br/>THE WEBSITE AND ALL DETAILS, CONTENT, MATERIALS, PRODUCTS (INCLUDING SOFTWARE APPLICATION) AND SERVICES CONSISTED OF ON OR OTHERWISE MADE AVAILABLE TO YOU THROUGH THIS WEBSITE ARE PROVIDED BY IceCreamConnectionCo. ON AN "AS IS" AND "AS AVAILABLE" BASIS, UNLESS OTHERWISE SPECIFIED IN WRITING. IceCreamConnectionCo. MAKES NO REPRESENTATIONS OR WARRANTIES OF ANY KIND, EXPRESS OR IMPLIED, ABOUT THE OPERATION OF THIS WEBSITE OR THE INFO, MATERIAL, MATERIALS, PRODUCTS (INCLUDING SOFTWARE) OR SERVICES CONSISTED OF ON OR OTHERWISE MADE AVAILABLE TO YOU THROUGH THIS SITE, UNLESS OTHERWISE POINTED OUT IN WRITING. YOU EXPRESSLY AGREE THAT YOUR USE OF THIS WEBSITE IS AT YOUR OWN RISK.' +
        '<br/><br/>TO THE COMPLETE EXTENT PERMISSIBLE BY APPLICABLE LAW, IceCreamConnectionCo. DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND PHYSICAL FITNESS FOR A PARTICULAR PURPOSE. IceCreamConnectionCo. DOES NOT WARRANT THAT THIS WEBSITE; DETAILS, CONTENT, MATERIALS, PRODUCTS (INCLUDING SOFTWARE APPLICATION) OR SERVICES CONSISTED OF ON OR OTHERWISE MADE AVAILABLE TO YOU THROUGH THE SITE; ITS SERVERS; OR EMAIL SENT FROM IceCreamConnectionCo. ARE WITHOUT VIRUSES OR OTHER HARMFUL ELEMENTS. IceCreamConnectionCo. WILL NOT BE LIABLE FOR ANY DAMAGES OF ANY KIND ARISING FROM THE USE OF THE WEBSITE OR FROM ANY DETAILS, CONTENT, MATERIALS, PRODUCTS (INCLUDING SOFTWARE APPLICATION) OR SERVICES CONSISTED OF ON OR OTHERWISE MADE AVAILABLE TO YOU WITH THIS SITE, INCLUDING, BUT NOT LIMITED TO DIRECT, INDIRECT, INCIDENTAL, PUNITIVE, AND CONSEQUENTIAL DAMAGES, UNLESS OTHERWISE POINTED OUT IN WRITING. UNDER NO SCENARIO SHALL IceCreamConnectionCo.\'S LIABILITY DEVELOPING FROM OR IN CONNECTION WITH THE WEBSITE OR YOUR USE OF THE WEBSITE, DESPITE THE REASON FOR ACTION (WHETHER IN AGREEMENT, TORT, BREACH OF SERVICE WARRANTY OR OTHERWISE), GO BEYOND $100.' +
        '<br/><br/><b>Governing Law</b>' +
        '<br/>Any claim relating to IceCreamConnectionCo.’s Website shall be governed by the laws of USA without regard to its conflict of law provisions, and the user’s consent to exclusive jurisdiction and venue in such courts.' +
        '<br/><br/>References</b>' +
        '<br/>*Please note that these Terms and Conditions were taken from existing Application Terms and conditions as it applies to website application, open source, and ice cream truck applications for the use of this fictional assignment. No actual business or financial gain will be gained directly from this Terms and Conditions write up. In the future if this web allocation is used for financial gain in any way the terms and conditions will be redone through that future creator’s legal advisor.*' +
        '<br/><br/>** This is a fictitious Terms and Conditions only applies to CSE 682: Software Engineering, Fall 2018, Syracuse University**' +
        '<br/><br/>1.\thttps://termsfeed.com/blog/sample-terms-and-conditions-template/\n' +
        '<br/>2.\thttps://www.websitepolicies.com/blog/sample-terms-conditions-template\n' +
        '<br/>3.\thttps://icecreamapps.com/terms.html\n' +
        '<br/>4.\thttps://www.icecreamtrack.com/terms-of-service/#content\n' +
        '<br/>5.\thttp://opensource-template.wikidot.com/legal:terms-of-use \n';

    $('#terms_flag_a_tag').click(function () {
        showDialog({
            title: 'Terms of Use and Privacy Policy',
            text: terms_text
        })
    });

    $('#privacy_flag_a_tag').click(function () {
        showDialog({
            title: 'Terms of Use and Privacy Policy',
            text: terms_text,
            scroll: true
        })
    });

    $("#choose_role").change(function () {
        $("#choose_role_error").hide();
        $("#invalid_role_error").hide();
        var href_val = $("#google_login").attr('href');
        if ($("#choose_role").val().indexOf("driver") >= 0) {
            $("#google_login").attr('href', href_val.split("?")[0] + "?next=dashboard/driver/")
        } else {
            $("#google_login").attr('href', href_val.split("?")[0] + "?next=dashboard/customer/")
        }
    });

    $("#terms_flag").change(function () {
        $("#terms_flag_error").hide();
    });

</script>

</body>

</html>
